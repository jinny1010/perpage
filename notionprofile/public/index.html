<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=UnifrakturMaguntia&display=swap" rel="stylesheet">
    
    <!-- Styles -->
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>

    <!-- 로딩 화면 -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-spinner"></div>
        <div class="loading-text">Loading...</div>
    </div>

    <!-- 메인 컨테이너 -->
    <div class="phone-container">

        <!-- 배경 레이어 -->
        <div class="bg-layer" id="bgLayer">
            <img src="" class="bg-image" id="bigImg" alt="Background">
        </div>

        <!-- Shape 레이어 -->
        <div class="shape-layer" id="normalShape">
            <svg viewBox="0 0 400 720" preserveAspectRatio="none">
                <path id="shapePath" d="
                    M 0,0 
                    H 250 
                    Q 180,50 160,150 
                    T 180,300 
                    Q 200,380 120,400
                    Q 80,420 120,550
                    Q 150,650 400,650
                    V 720
                    H 0
                    Z
                " fill="#fff" />
            </svg>
        </div>

        <!-- 확장된 Shape 레이어 -->
        <div class="expanded-shape-layer" id="expandedShape">
            <svg viewBox="0 0 400 720" preserveAspectRatio="none">
                <path id="expandedShapePath" d="
                    M 0,0 
                    H 400
                    V 0
                    Q 380,20 370,80
                    Q 360,150 380,250
                    Q 400,350 350,420
                    Q 300,500 350,580
                    Q 400,650 400,720
                    H 0
                    Z
                " fill="#fff" />
            </svg>
        </div>

        <!-- 캐릭터 콘텐츠 -->
        <div class="character-content" id="characterContent">
            <div class="char-title" id="charPanelTitle"></div>
            <div class="char-subtitle" id="charPanelSubtitle"></div>
            <div class="char-description" id="charPanelDesc"></div>
            <div class="char-stats">
                <div class="char-stat-item">
                    <span class="char-stat-label">Type</span>
                    <span class="char-stat-value" id="charType"></span>
                </div>
                <div class="char-stat-item">
                    <span class="char-stat-label">Element</span>
                    <span class="char-stat-value" id="charElement"></span>
                </div>
                <div class="char-stat-item">
                    <span class="char-stat-label">Origin</span>
                    <span class="char-stat-value" id="charOrigin"></span>
                </div>
            </div>
        </div>

        <!-- UI 레이어 -->
        <div class="ui-layer">
            
            <!-- BGM 컨트롤 -->
            <div class="ui-element bgm-control" id="bgmControl">
                <button class="bgm-btn" id="bgmBtn" onclick="toggleBgm()">♪</button>
                <div class="bgm-info" id="bgmInfo">-</div>
            </div>

            <!-- 상단 태그 -->
            <div class="ui-element top-tag" id="topTag">
                <div class="pill-box" id="pillText"></div>
                <div class="lang-switch"></div>
            </div>

            <!-- 고딕 타이틀 -->
            <div class="ui-element gothic-title" id="gothicTitle">
                <span class="gothic-sub" id="gothicSub"></span>
            </div>

            <!-- 스와이프 텍스트 -->
            <div class="ui-element swipe-text" id="swipeText"></div>

            <!-- 원형 프로필 -->
            <div class="ui-element circle-top-small" id="topCircle" onclick="toggleCharacterPanel()">
                <img src="" id="topCircleImg" alt="Profile">
            </div>

            <!-- 다른 프로필 -->
            <div class="ui-element other-faces" id="otherFaces">
                <div class="mini-circle-group">
                    <div class="mini-circle-swap" onclick="swapAll()">
                        <img src="" id="smallImg" alt="Swap">
                    </div>
                    <div style="font-size: 1.5rem; font-weight: bold;">&</div>
                </div>
            </div>

            <!-- 하단 네비게이션 -->
            <div class="ui-element bottom-nav" id="bottomNav">
                <div class="nav-item active" data-panel="profile" onclick="togglePanel('profile', this)">Profile</div>
                <div class="nav-item" data-panel="post" onclick="togglePanel('post', this)">Post</div>
                <div class="nav-item" data-panel="memory" onclick="togglePanel('memory', this)">Memory</div>
            </div>
        </div>

        <!-- Post 패널 -->
        <div class="slide-panel" id="postPanel">
            <div class="panel-header">
                <span class="panel-title">Posts</span>
                <button class="panel-close" onclick="closePanel('post')">&times;</button>
            </div>
            <div class="panel-content" id="postsContainer">
                <!-- 동적으로 채워짐 -->
            </div>
        </div>

        <!-- Memory 패널 -->
        <div class="slide-panel" id="memoryPanel">
            <div class="panel-header">
                <span class="panel-title">Memory</span>
                <button class="panel-close" onclick="closePanel('memory')">&times;</button>
            </div>
            <div class="panel-content">
                <div class="gallery-grid" id="memoryGrid">
                    <!-- 동적으로 채워짐 -->
                </div>
            </div>
        </div>

        <!-- 포스트 상세 -->
        <div class="post-detail" id="postDetail">
            <div class="post-detail-header">
                <button class="post-detail-back" onclick="closePostDetail()">←</button>
                <div class="post-detail-header-info">
                    <h3 id="postDetailAuthor"></h3>
                    <span id="postDetailDate"></span>
                </div>
            </div>
            <div class="post-detail-image">
                <img id="postDetailImg" src="" alt="Post Image">
            </div>
            <div class="post-detail-content">
                <h2 id="postDetailTitle"></h2>
                <div class="post-body" id="postDetailBody"></div>
                <div class="post-tags" id="postDetailTags"></div>
            </div>
            <div class="post-detail-footer">
                <div class="post-actions" id="postDetailActions"></div>
            </div>
        </div>

    </div>

    <!-- 오디오 -->
    <audio id="bgmAudio" loop></audio>

    <!-- Scripts -->
    <script src="/js/app.js"></script>
</body>
</html>
